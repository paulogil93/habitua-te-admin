var API_URL="API_BASE_URL",ADMIN_API_KEY="ADMIN_API_KEY";function clearFields(){document.getElementById("c_name").value="",document.getElementById("c_url").value=""}function setModal(e){var t=document.getElementById("id"),n=document.getElementById("name"),a=document.getElementById("url");t.value=e.id,n.value=e.name,a.value=e.url}function imageFormatter(e,t){return'<img width="100px" height="75px" class="rounded" src="'+e+'" />'}function editFormatter(e){return['<a class="edit" href="javascript:void(0)" title="Editar">','<i class="fa fa-edit"></i>',"</a>  "].join("")}function deleteFormatter(e){return['<a class="delete" href="javascript:void(0)" title="Eliminar">','<i class="fa fa-trash text-danger"></i>',"</a>  "].join("")}$(document).ready(function(){var e=API_URL+"/categories/";$.ajax({url:e,type:"GET",dataType:"json",headers:{"X-Api-Key":ADMIN_API_KEY},success:function(e){$("table").bootstrapTable({data:e})}}),$("#deleteBtn").click(function(){var e=document.getElementById("categoryID").innerHTML,t=API_URL+"/categories/"+e+"/";$.ajax({url:t,type:"DELETE",dataType:"json",headers:{"X-Api-Key":ADMIN_API_KEY},success:function(e){console.log(e),window.location.reload()},error:function(e){console.log(e)}})}),$("#addBtn").click(function(){var e=document.getElementById("c_name").value,t=document.getElementById("c_url").value;if(""==e||""==t)alert("Por favor preencha os campos necess√°rios!");else{var n="name="+e+"&url="+t,a=API_URL+"/categories/";$.ajax({url:a+"?"+n,type:"POST",dataType:"json",headers:{"X-Api-Key":ADMIN_API_KEY},success:function(e){clearFields(),console.log(e),window.location.reload()},error:function(e){console.log(e)}})}})}),$(function(){$("form").submit(function(){var e=document.getElementById("id").value,t=document.getElementById("name").value,n=document.getElementById("url").value,a=API_URL+"/categories/"+e+"/",o="name="+t+"&url="+n;return $.ajax({url:a+"?"+o,type:"PUT",contentType:"application/json",dataType:"json",headers:{"X-Api-Key":ADMIN_API_KEY},async:!1,success:function(e){console.log(e),window.location.reload()},error:function(e){console.log(e)}}),!1})}),window.operateEvents={"click .edit":function(e,t,n,a){$("#editModal").modal("toggle"),setModal(n)},"click .delete":function(e,t,n,a){$("#deleteModal").modal("toggle"),product=document.getElementById("deleteCategory"),product.innerHTML="Tem a certeza que pretende eliminar a categoria '"+n.name+"'?",id=document.getElementById("categoryID"),id.innerHTML=n.id}};
