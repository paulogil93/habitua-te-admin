var API_URL="API_BASE_URL",ADMIN_API_KEY="ADMIN_API_KEY";$(document).ready(function(){$.ajax({url:"API_BASE_URL/events/event/all/",type:"GET",dataType:"json",headers:{"X-Api-Key":ADMIN_API_KEY},success:function(a){$("table").bootstrapTable({data:a})}}),$("#deleteBtn").click(function(){var a=document.getElementById("eventID").innerHTML;$.ajax({url:"API_BASE_URL/events/event/all/",type:"DELETE",dataType:"json",headers:{"X-Api-Key":ADMIN_API_KEY},success:function(a){console.log(a),window.location.reload()},error:function(a){console.log(a)}})}),$("#addBtn").click(function(){var a=document.getElementById("e_title").value,b=document.getElementById("e_description").value,c=document.getElementById("e_date").value,d=document.getElementById("e_time").value,e=document.getElementById("e_url").value;if(""==a||""==b||""==c||""==d||""==e)alert("Por favor preencha os campos necess\xE1rios!");else{$.ajax({url:"API_BASE_URL/events/event/all/?"+("title="+a+"&description="+b+"&date="+c+"&time="+d+"&picture="+e+"&event_type="+"event"),type:"POST",dataType:"json",headers:{"X-Api-Key":ADMIN_API_KEY},success:function(a){clearFields(),console.log(a),window.location.reload()},error:function(a){console.log(a)}})}})});function clearFields(){document.getElementById("e_title").value="",document.getElementById("e_description").value="",document.getElementById("e_date").value="",document.getElementById("e_time").value="",document.getElementById("e_url").value=""}$(function(){$("form").submit(function(){var a=document.getElementById("id").value,b=document.getElementById("title").value,c=document.getElementById("description").value,d=document.getElementById("date").value,e=document.getElementById("time").value,f=document.getElementById("url").value;return $.ajax({url:"API_BASE_URL/events/"+a+"/"+"?"+("title="+b+"&description="+c+"&date="+d+"&time="+e+"&picture="+f+"&event_type="+"event"),type:"PUT",contentType:"application/json",dataType:"json",headers:{"X-Api-Key":ADMIN_API_KEY},async:!1,success:function(a){console.log(a),window.location.reload()},error:function(a){console.log(a)}}),!1})}),window.operateEvents={"click .edit":function(a,b,c){$("#editModal").modal("toggle"),setModal(c)},"click .delete":function(a,b,c){$("#deleteModal").modal("toggle"),product=document.getElementById("deleteProduct"),product.innerHTML="Tem a certeza que pretende eliminar o evento '"+c.title+"'?",id=document.getElementById("eventID"),id.innerHTML=c.id}};function setModal(a){var b=document.getElementById("id"),c=document.getElementById("title"),d=document.getElementById("description"),e=document.getElementById("date"),f=document.getElementById("time"),g=document.getElementById("url");b.value=a.id,c.value=a.title,d.value=a.description,e.value=formatDate(a.date),f.value=a.time,g.value=a.picture}function formatDate(a){var b=a.split("-")[0],c=a.split("-")[1],d=a.split("-")[2].split(" ")[0];return b+"-"+c+"-"+d}function dateFormatter(a){var b=a.split("-")[0],c=a.split("-")[1],d=a.split("-")[2].split(" ")[0];return d+"-"+c+"-"+b}function imageFormatter(a){return"<img width=\"100px\" height=\"75px\" class=\"rounded\" src=\""+a+"\" />"}function editFormatter(){return"<a class=\"edit\" href=\"javascript:void(0)\" title=\"Editar\"><i class=\"fa fa-edit\"></i></a>  "}function deleteFormatter(){return"<a class=\"delete\" href=\"javascript:void(0)\" title=\"Eliminar\"><i class=\"fa fa-trash text-danger\"></i></a>  "}
