var $table=$("#userTable"),API_URL="API_BASE_URL",ADMIN_API_KEY="ADMIN_API_KEY";$(document).ready(function(){var a=API_URL+"/users/";$.ajax({url:a,type:"GET",dataType:"json",headers:{"X-Api-Key":ADMIN_API_KEY},success:function(a){document.getElementById("userCount").innerHTML=a.length+" Utilizadores"}});var a=API_URL+"/products/";$.ajax({url:a,type:"GET",dataType:"json",headers:{"X-Api-Key":ADMIN_API_KEY},success:function(a){document.getElementById("productCount").innerHTML=a.length+" Produtos"}});var a=API_URL+"/events/event/all/";$.ajax({url:a,type:"GET",dataType:"json",headers:{"X-Api-Key":ADMIN_API_KEY},success:function(a){document.getElementById("eventCount").innerHTML=a.length+" Eventos"}});var a=API_URL+"/events/news/";$.ajax({url:a,type:"GET",dataType:"json",headers:{"X-Api-Key":ADMIN_API_KEY},success:function(a){document.getElementById("newsCount").innerHTML=a.length+" Not\xEDcias"}}),$("#deleteBtn").click(function(){var a=document.getElementById("categoryID").innerHTML;$.ajax({url:API_URL+"/categories/"+a+"/",type:"DELETE",dataType:"json",headers:{"X-Api-Key":ADMIN_API_KEY},success:function(a){console.log(a),window.location.reload()},error:function(a){console.log(a)}})}),$("#addBtn").click(function(){var a=document.getElementById("c_name").value,b=document.getElementById("c_url").value;if(""==a||""==b)alert("Por favor preencha os campos necess\xE1rios!");else{var c="name="+a+"&url="+b,b=API_URL+"/categories/";$.ajax({url:b+"?"+c,type:"POST",dataType:"json",headers:{"X-Api-Key":ADMIN_API_KEY},success:function(a){clearFields(),console.log(a),window.location.reload()},error:function(a){console.log(a)}})}})});function clearFields(){document.getElementById("c_name").value="",document.getElementById("c_url").value=""}$(function(){$("form").submit(function(){var a=document.getElementById("id").value,b=document.getElementById("name").value,c=document.getElementById("url").value,c=API_URL+"/categories/"+a+"/",d="name="+b+"&url="+c;return $.ajax({url:c+"?"+d,type:"PUT",contentType:"application/json",dataType:"json",headers:{"X-Api-Key":ADMIN_API_KEY},async:!1,success:function(a){console.log(a),window.location.reload()},error:function(a){console.log(a)}}),!1})}),window.operateEvents={"click .edit":function(a,b,c){$("#editModal").modal("toggle"),setModal(c)},"click .delete":function(a,b,c){$("#deleteModal").modal("toggle"),product=document.getElementById("deleteCategory"),product.innerHTML="Tem a certeza que pretende eliminar a categoria '"+c.name+"'?",id=document.getElementById("categoryID"),id.innerHTML=c.id}};function setModal(a){var b=document.getElementById("id"),c=document.getElementById("name"),d=document.getElementById("url");b.value=a.id,c.value=a.name,d.value=a.url}function imageFormatter(a){return"<img width=\"100px\" height=\"75px\" class=\"rounded\" src=\""+a+"\" />"}function editFormatter(){return"<a class=\"edit\" href=\"javascript:void(0)\" title=\"Editar\"><i class=\"fa fa-edit\"></i></a>  "}function deleteFormatter(){return"<a class=\"delete\" href=\"javascript:void(0)\" title=\"Eliminar\"><i class=\"fa fa-trash text-danger\"></i></a>  "}
